# python database_setup.py -- to run the database setup
# python app.py -- to start the flask server


# POST /allocate_slot: Allocates a device to a user if it's available and updates its state in the database.
# GET /list_slots: Lists all available device slots and their statuses.

# Basic Workflow: 
#  - make a POST request to /allocate_slot with a JSON body containing device ID and user details. The server checks if the device is free, allocates it, and updates the database.
# - list devices: GET request to /list_slots ==> return a list of all devices in the database, w/ their current state (e.g., free, allocated).

# Example Requests
# Allocate a Device:
# curl -X POST http://127.0.0.1:5000/allocate_slot -H "Content-Type: application/json" -d '{
#     "id": 1,
#     "user": "Jane Doe",
#     "email": "jane.doe@example.com",
#     "name": "Jane"
# }'
# List Devices:
# curl http://127.0.0.1:5000/list_slots
# Expected Outputs
# Allocation Response:
# {
#     "message": "Device allocated",
#     "device_id": 1
# }
# List Slots Response:
# {
#     "devices": [
#         {
#             "id": 1,
#             "name": "Device A",
#             "state": "allocated"
#         },
#         {
#             "id": 2,
#             "name": "Device B",
#             "state": "free"
#         }
#     ]
# }